{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/delaunator/index.js","webpack:///./src/Image.js","webpack:///./src/index.js"],"names":["parentHotUpdateCallback","window","chunkId","moreModules","hotAvailableFilesMap","hotRequestedFilesMap","moduleId","Object","prototype","hasOwnProperty","call","hotUpdate","hotWaitingFiles","hotChunksLoading","hotUpdateDownloaded","hotAddUpdateChunk","hotCurrentChildModule","hotApplyOnUpdate","hotCurrentHash","hotRequestTimeout","hotCurrentModuleData","hotCurrentParents","hotCurrentParentsTemp","hotCreateRequire","me","installedModules","__webpack_require__","fn","request","hot","active","parents","indexOf","push","children","console","warn","ObjectFactory","name","configurable","enumerable","get","set","value","defineProperty","e","hotStatus","hotSetStatus","then","finishChunkLoading","err","hotWaitingFilesMap","hotEnsureUpdateChunk","t","mode","hotCreateModule","_acceptedDependencies","_declinedDependencies","_selfAccepted","_selfDeclined","_disposeHandlers","_main","accept","dep","callback","undefined","i","length","decline","dispose","addDisposeHandler","removeDisposeHandler","idx","splice","check","hotCheck","apply","hotApply","status","l","hotStatusHandlers","addStatusHandler","removeStatusHandler","data","newStatus","hotDeferred","hotUpdateNewHash","toModuleId","id","Error","requestTimeout","Promise","resolve","reject","XMLHttpRequest","requestPath","p","open","timeout","send","onreadystatechange","readyState","update","JSON","parse","responseText","c","h","promise","script","document","createElement","charset","src","head","appendChild","hotDownloadUpdateChunk","deferred","result","outdatedModules","options","cb","j","module","getAffectedStuff","updateModuleId","outdatedDependencies","queue","map","chain","queueItem","pop","type","parentId","parent","concat","addAllToSet","a","b","item","appliedUpdate","warnUnexpectedRequire","abortError","doApply","doDispose","chainInfo","join","onDeclined","ignoreDeclined","onUnaccepted","ignoreUnaccepted","onAccepted","onDisposed","outdatedSelfAcceptedModules","errorHandler","keys","forEach","installedChunks","hotDisposeChunk","dependency","moduleOutdatedDependencies","slice","disposeHandlers","child","modules","error","callbacks","onErrored","dependencyId","ignoreErrored","err2","originalError","exports","m","d","getter","o","r","Symbol","toStringTag","__esModule","ns","create","key","bind","n","object","property","s","EPSILON","Math","pow","EDGE_STACK","Uint32Array","Delaunator","points","getX","defaultGetX","getY","defaultGetY","coords","Float64Array","this","maxTriangles","max","_triangles","_halfedges","Int32Array","_hashSize","ceil","sqrt","_hullPrev","_hullNext","_hullTri","_hullHash","fill","_ids","_dists","hullPrev","hullNext","hullTri","hullHash","minX","Infinity","minY","maxX","maxY","x","y","cx","cy","i0","i1","i2","minDist","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","d0","subarray","triangles","halfedges","orient","center","ax","ay","bx","by","dx","dy","ex","ey","bl","cl","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","k","abs","start","q","_legalize","floor","pseudoAngle","ar","a0","b0","al","p0","pr","pl","p1","inCircle","hbl","_link","br","orientIfSure","px","py","rx","ry","qx","qy","fx","fy","bp","cp","ids","dists","left","right","temp","tempDist","swap","arr","tmp","XE","Core","XbsjCzmObj","earth","guid","super","_createCustomPrimitive","_xbsjCutFillComputing","Cesium","XbsjCutFillComputing","terrainEffect","depthTest","positions","cartesians","Cartesian3","fromRadians","equals","rotation","transform","transformInverse","normal","_getApproximateNormal","_getCenter","centerNormal","normalize","cos","dot","_getCartesian3Inserve","reverse","_getRotationMatrixByNormalAndCenter","centerInserve","translation","Matrix4","fromTranslation","multiply","inverse","Transforms","eastNorthUpToFixedFrame","inverseTransformation","locationPositions","_transformCartesians","projectLocationPositions","worldRadian","worldCartesians","interpolation","bounds","_getBounds2D","turfpositions","_getTurfPoints","interpolationInPolygon","_interpolationInPolygon","interpolationDistance","_pickFromScene","_earth","czm","viewer","scene","offsetHeight","drillDepth","interpolationAlongPolygon","_interpolationAlongPolygon","world_cartesian","local","world","coord","polygon","worldPosition","projectPoint","Cartographic","fromCartesian","longitude","latitude","height","sts","_getSTS","textureSize","indices","_getIndices","localPositions","enucenter","Obj","CustomPrimitive","Geometry","getLocalPositions","_customPrimitive","position","normals","totalArea","_getMeshArea","disposers","MVVM","watch","imageUrl","update2","show","Resource","createIfNeeded","fetchImage","image","canvasWidth","naturalWidth","canvasHeight","naturalHeight","drawCanvas","ctx","clearRect","drawImage","fillStyle","fillRect","track","_registerEditing","Earth","Interaction","Picking","registerPickingParent","area","_getTriangleArea","p2","p3","length1","distance","length2","length3","enu","enuInverse","m3","getRotation","Matrix3","Quaternion","fromRotationMatrix","HeadingPitchRoll","fromQuaternion","from","scale","minx","miny","maxx","maxy","min","cartesian","multiplyByPoint","cartesiansWithHeight","clone","z","positions_world","normalInverse","positions_world_ray","positions_local","ray","Ray","projectPoints","drillPickFromRay","obj","content","normalX","cross","normalY","normalZ","va","vb","sum_normal","position_count","origin","subtract","add","cartesian3","startx","starty","_pointInPolygon","_interpolationAlongLine","totalLength","v","project","point","pt","turf","booleanEqual","turfPolygon","poly","booleanPointInPolygon","config","renderState","getRenderState","fragmentShaderSource","translucent","xbsjFromJSON","positionsline","_line","entities","polyline","width","material","Color","RED","clampToGround","destroy","flyTo","InteractionProperty","registerPolylineCreating","polylineCreatingProperty","registerPolylineEditing","polylineEditingProperty","defaultOptions","registerType","CustomPrimitiveExt","Image"],"mappings":"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","file":"XbsjEarth-Plugins/customPrimitiveImage/customPrimitiveImage.js","sourcesContent":[" \tfunction hotDisposeChunk(chunkId) {\n \t\tdelete installedChunks[chunkId];\n \t}\n \tvar parentHotUpdateCallback = window[\"webpackHotUpdate\"];\n \twindow[\"webpackHotUpdate\"] = // eslint-disable-next-line no-unused-vars\n \tfunction webpackHotUpdateCallback(chunkId, moreModules) {\n \t\thotAddUpdateChunk(chunkId, moreModules);\n \t\tif (parentHotUpdateCallback) parentHotUpdateCallback(chunkId, moreModules);\n \t} ;\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadUpdateChunk(chunkId) {\n \t\tvar script = document.createElement(\"script\");\n \t\tscript.charset = \"utf-8\";\n \t\tscript.src = __webpack_require__.p + \"\" + chunkId + \".\" + hotCurrentHash + \".hot-update.js\";\n \t\tif (null) script.crossOrigin = null;\n \t\tdocument.head.appendChild(script);\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotDownloadManifest(requestTimeout) {\n \t\trequestTimeout = requestTimeout || 10000;\n \t\treturn new Promise(function(resolve, reject) {\n \t\t\tif (typeof XMLHttpRequest === \"undefined\") {\n \t\t\t\treturn reject(new Error(\"No browser support\"));\n \t\t\t}\n \t\t\ttry {\n \t\t\t\tvar request = new XMLHttpRequest();\n \t\t\t\tvar requestPath = __webpack_require__.p + \"\" + hotCurrentHash + \".hot-update.json\";\n \t\t\t\trequest.open(\"GET\", requestPath, true);\n \t\t\t\trequest.timeout = requestTimeout;\n \t\t\t\trequest.send(null);\n \t\t\t} catch (err) {\n \t\t\t\treturn reject(err);\n \t\t\t}\n \t\t\trequest.onreadystatechange = function() {\n \t\t\t\tif (request.readyState !== 4) return;\n \t\t\t\tif (request.status === 0) {\n \t\t\t\t\t// timeout\n \t\t\t\t\treject(\n \t\t\t\t\t\tnew Error(\"Manifest request to \" + requestPath + \" timed out.\")\n \t\t\t\t\t);\n \t\t\t\t} else if (request.status === 404) {\n \t\t\t\t\t// no update available\n \t\t\t\t\tresolve();\n \t\t\t\t} else if (request.status !== 200 && request.status !== 304) {\n \t\t\t\t\t// other failure\n \t\t\t\t\treject(new Error(\"Manifest request to \" + requestPath + \" failed.\"));\n \t\t\t\t} else {\n \t\t\t\t\t// success\n \t\t\t\t\ttry {\n \t\t\t\t\t\tvar update = JSON.parse(request.responseText);\n \t\t\t\t\t} catch (e) {\n \t\t\t\t\t\treject(e);\n \t\t\t\t\t\treturn;\n \t\t\t\t\t}\n \t\t\t\t\tresolve(update);\n \t\t\t\t}\n \t\t\t};\n \t\t});\n \t}\n\n \tvar hotApplyOnUpdate = true;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentHash = \"9e4e8555d7693837804c\";\n \tvar hotRequestTimeout = 10000;\n \tvar hotCurrentModuleData = {};\n \tvar hotCurrentChildModule;\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParents = [];\n \t// eslint-disable-next-line no-unused-vars\n \tvar hotCurrentParentsTemp = [];\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateRequire(moduleId) {\n \t\tvar me = installedModules[moduleId];\n \t\tif (!me) return __webpack_require__;\n \t\tvar fn = function(request) {\n \t\t\tif (me.hot.active) {\n \t\t\t\tif (installedModules[request]) {\n \t\t\t\t\tif (installedModules[request].parents.indexOf(moduleId) === -1) {\n \t\t\t\t\t\tinstalledModules[request].parents.push(moduleId);\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\thotCurrentParents = [moduleId];\n \t\t\t\t\thotCurrentChildModule = request;\n \t\t\t\t}\n \t\t\t\tif (me.children.indexOf(request) === -1) {\n \t\t\t\t\tme.children.push(request);\n \t\t\t\t}\n \t\t\t} else {\n \t\t\t\tconsole.warn(\n \t\t\t\t\t\"[HMR] unexpected require(\" +\n \t\t\t\t\t\trequest +\n \t\t\t\t\t\t\") from disposed module \" +\n \t\t\t\t\t\tmoduleId\n \t\t\t\t);\n \t\t\t\thotCurrentParents = [];\n \t\t\t}\n \t\t\treturn __webpack_require__(request);\n \t\t};\n \t\tvar ObjectFactory = function ObjectFactory(name) {\n \t\t\treturn {\n \t\t\t\tconfigurable: true,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: function() {\n \t\t\t\t\treturn __webpack_require__[name];\n \t\t\t\t},\n \t\t\t\tset: function(value) {\n \t\t\t\t\t__webpack_require__[name] = value;\n \t\t\t\t}\n \t\t\t};\n \t\t};\n \t\tfor (var name in __webpack_require__) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(__webpack_require__, name) &&\n \t\t\t\tname !== \"e\" &&\n \t\t\t\tname !== \"t\"\n \t\t\t) {\n \t\t\t\tObject.defineProperty(fn, name, ObjectFactory(name));\n \t\t\t}\n \t\t}\n \t\tfn.e = function(chunkId) {\n \t\t\tif (hotStatus === \"ready\") hotSetStatus(\"prepare\");\n \t\t\thotChunksLoading++;\n \t\t\treturn __webpack_require__.e(chunkId).then(finishChunkLoading, function(err) {\n \t\t\t\tfinishChunkLoading();\n \t\t\t\tthrow err;\n \t\t\t});\n\n \t\t\tfunction finishChunkLoading() {\n \t\t\t\thotChunksLoading--;\n \t\t\t\tif (hotStatus === \"prepare\") {\n \t\t\t\t\tif (!hotWaitingFilesMap[chunkId]) {\n \t\t\t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t\t\t}\n \t\t\t\t\tif (hotChunksLoading === 0 && hotWaitingFiles === 0) {\n \t\t\t\t\t\thotUpdateDownloaded();\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t};\n \t\tfn.t = function(value, mode) {\n \t\t\tif (mode & 1) value = fn(value);\n \t\t\treturn __webpack_require__.t(value, mode & ~1);\n \t\t};\n \t\treturn fn;\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotCreateModule(moduleId) {\n \t\tvar hot = {\n \t\t\t// private stuff\n \t\t\t_acceptedDependencies: {},\n \t\t\t_declinedDependencies: {},\n \t\t\t_selfAccepted: false,\n \t\t\t_selfDeclined: false,\n \t\t\t_disposeHandlers: [],\n \t\t\t_main: hotCurrentChildModule !== moduleId,\n\n \t\t\t// Module API\n \t\t\tactive: true,\n \t\t\taccept: function(dep, callback) {\n \t\t\t\tif (dep === undefined) hot._selfAccepted = true;\n \t\t\t\telse if (typeof dep === \"function\") hot._selfAccepted = dep;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._acceptedDependencies[dep[i]] = callback || function() {};\n \t\t\t\telse hot._acceptedDependencies[dep] = callback || function() {};\n \t\t\t},\n \t\t\tdecline: function(dep) {\n \t\t\t\tif (dep === undefined) hot._selfDeclined = true;\n \t\t\t\telse if (typeof dep === \"object\")\n \t\t\t\t\tfor (var i = 0; i < dep.length; i++)\n \t\t\t\t\t\thot._declinedDependencies[dep[i]] = true;\n \t\t\t\telse hot._declinedDependencies[dep] = true;\n \t\t\t},\n \t\t\tdispose: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\taddDisposeHandler: function(callback) {\n \t\t\t\thot._disposeHandlers.push(callback);\n \t\t\t},\n \t\t\tremoveDisposeHandler: function(callback) {\n \t\t\t\tvar idx = hot._disposeHandlers.indexOf(callback);\n \t\t\t\tif (idx >= 0) hot._disposeHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t// Management API\n \t\t\tcheck: hotCheck,\n \t\t\tapply: hotApply,\n \t\t\tstatus: function(l) {\n \t\t\t\tif (!l) return hotStatus;\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\taddStatusHandler: function(l) {\n \t\t\t\thotStatusHandlers.push(l);\n \t\t\t},\n \t\t\tremoveStatusHandler: function(l) {\n \t\t\t\tvar idx = hotStatusHandlers.indexOf(l);\n \t\t\t\tif (idx >= 0) hotStatusHandlers.splice(idx, 1);\n \t\t\t},\n\n \t\t\t//inherit from previous dispose call\n \t\t\tdata: hotCurrentModuleData[moduleId]\n \t\t};\n \t\thotCurrentChildModule = undefined;\n \t\treturn hot;\n \t}\n\n \tvar hotStatusHandlers = [];\n \tvar hotStatus = \"idle\";\n\n \tfunction hotSetStatus(newStatus) {\n \t\thotStatus = newStatus;\n \t\tfor (var i = 0; i < hotStatusHandlers.length; i++)\n \t\t\thotStatusHandlers[i].call(null, newStatus);\n \t}\n\n \t// while downloading\n \tvar hotWaitingFiles = 0;\n \tvar hotChunksLoading = 0;\n \tvar hotWaitingFilesMap = {};\n \tvar hotRequestedFilesMap = {};\n \tvar hotAvailableFilesMap = {};\n \tvar hotDeferred;\n\n \t// The update info\n \tvar hotUpdate, hotUpdateNewHash;\n\n \tfunction toModuleId(id) {\n \t\tvar isNumber = +id + \"\" === id;\n \t\treturn isNumber ? +id : id;\n \t}\n\n \tfunction hotCheck(apply) {\n \t\tif (hotStatus !== \"idle\") {\n \t\t\tthrow new Error(\"check() is only allowed in idle status\");\n \t\t}\n \t\thotApplyOnUpdate = apply;\n \t\thotSetStatus(\"check\");\n \t\treturn hotDownloadManifest(hotRequestTimeout).then(function(update) {\n \t\t\tif (!update) {\n \t\t\t\thotSetStatus(\"idle\");\n \t\t\t\treturn null;\n \t\t\t}\n \t\t\thotRequestedFilesMap = {};\n \t\t\thotWaitingFilesMap = {};\n \t\t\thotAvailableFilesMap = update.c;\n \t\t\thotUpdateNewHash = update.h;\n\n \t\t\thotSetStatus(\"prepare\");\n \t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\thotDeferred = {\n \t\t\t\t\tresolve: resolve,\n \t\t\t\t\treject: reject\n \t\t\t\t};\n \t\t\t});\n \t\t\thotUpdate = {};\n \t\t\tvar chunkId = 0;\n \t\t\t// eslint-disable-next-line no-lone-blocks\n \t\t\t{\n \t\t\t\t/*globals chunkId */\n \t\t\t\thotEnsureUpdateChunk(chunkId);\n \t\t\t}\n \t\t\tif (\n \t\t\t\thotStatus === \"prepare\" &&\n \t\t\t\thotChunksLoading === 0 &&\n \t\t\t\thotWaitingFiles === 0\n \t\t\t) {\n \t\t\t\thotUpdateDownloaded();\n \t\t\t}\n \t\t\treturn promise;\n \t\t});\n \t}\n\n \t// eslint-disable-next-line no-unused-vars\n \tfunction hotAddUpdateChunk(chunkId, moreModules) {\n \t\tif (!hotAvailableFilesMap[chunkId] || !hotRequestedFilesMap[chunkId])\n \t\t\treturn;\n \t\thotRequestedFilesMap[chunkId] = false;\n \t\tfor (var moduleId in moreModules) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\thotUpdate[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif (--hotWaitingFiles === 0 && hotChunksLoading === 0) {\n \t\t\thotUpdateDownloaded();\n \t\t}\n \t}\n\n \tfunction hotEnsureUpdateChunk(chunkId) {\n \t\tif (!hotAvailableFilesMap[chunkId]) {\n \t\t\thotWaitingFilesMap[chunkId] = true;\n \t\t} else {\n \t\t\thotRequestedFilesMap[chunkId] = true;\n \t\t\thotWaitingFiles++;\n \t\t\thotDownloadUpdateChunk(chunkId);\n \t\t}\n \t}\n\n \tfunction hotUpdateDownloaded() {\n \t\thotSetStatus(\"ready\");\n \t\tvar deferred = hotDeferred;\n \t\thotDeferred = null;\n \t\tif (!deferred) return;\n \t\tif (hotApplyOnUpdate) {\n \t\t\t// Wrap deferred object in Promise to mark it as a well-handled Promise to\n \t\t\t// avoid triggering uncaught exception warning in Chrome.\n \t\t\t// See https://bugs.chromium.org/p/chromium/issues/detail?id=465666\n \t\t\tPromise.resolve()\n \t\t\t\t.then(function() {\n \t\t\t\t\treturn hotApply(hotApplyOnUpdate);\n \t\t\t\t})\n \t\t\t\t.then(\n \t\t\t\t\tfunction(result) {\n \t\t\t\t\t\tdeferred.resolve(result);\n \t\t\t\t\t},\n \t\t\t\t\tfunction(err) {\n \t\t\t\t\t\tdeferred.reject(err);\n \t\t\t\t\t}\n \t\t\t\t);\n \t\t} else {\n \t\t\tvar outdatedModules = [];\n \t\t\tfor (var id in hotUpdate) {\n \t\t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\t\toutdatedModules.push(toModuleId(id));\n \t\t\t\t}\n \t\t\t}\n \t\t\tdeferred.resolve(outdatedModules);\n \t\t}\n \t}\n\n \tfunction hotApply(options) {\n \t\tif (hotStatus !== \"ready\")\n \t\t\tthrow new Error(\"apply() is only allowed in ready status\");\n \t\toptions = options || {};\n\n \t\tvar cb;\n \t\tvar i;\n \t\tvar j;\n \t\tvar module;\n \t\tvar moduleId;\n\n \t\tfunction getAffectedStuff(updateModuleId) {\n \t\t\tvar outdatedModules = [updateModuleId];\n \t\t\tvar outdatedDependencies = {};\n\n \t\t\tvar queue = outdatedModules.map(function(id) {\n \t\t\t\treturn {\n \t\t\t\t\tchain: [id],\n \t\t\t\t\tid: id\n \t\t\t\t};\n \t\t\t});\n \t\t\twhile (queue.length > 0) {\n \t\t\t\tvar queueItem = queue.pop();\n \t\t\t\tvar moduleId = queueItem.id;\n \t\t\t\tvar chain = queueItem.chain;\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (!module || module.hot._selfAccepted) continue;\n \t\t\t\tif (module.hot._selfDeclined) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"self-declined\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tif (module.hot._main) {\n \t\t\t\t\treturn {\n \t\t\t\t\t\ttype: \"unaccepted\",\n \t\t\t\t\t\tchain: chain,\n \t\t\t\t\t\tmoduleId: moduleId\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\tfor (var i = 0; i < module.parents.length; i++) {\n \t\t\t\t\tvar parentId = module.parents[i];\n \t\t\t\t\tvar parent = installedModules[parentId];\n \t\t\t\t\tif (!parent) continue;\n \t\t\t\t\tif (parent.hot._declinedDependencies[moduleId]) {\n \t\t\t\t\t\treturn {\n \t\t\t\t\t\t\ttype: \"declined\",\n \t\t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\tparentId: parentId\n \t\t\t\t\t\t};\n \t\t\t\t\t}\n \t\t\t\t\tif (outdatedModules.indexOf(parentId) !== -1) continue;\n \t\t\t\t\tif (parent.hot._acceptedDependencies[moduleId]) {\n \t\t\t\t\t\tif (!outdatedDependencies[parentId])\n \t\t\t\t\t\t\toutdatedDependencies[parentId] = [];\n \t\t\t\t\t\taddAllToSet(outdatedDependencies[parentId], [moduleId]);\n \t\t\t\t\t\tcontinue;\n \t\t\t\t\t}\n \t\t\t\t\tdelete outdatedDependencies[parentId];\n \t\t\t\t\toutdatedModules.push(parentId);\n \t\t\t\t\tqueue.push({\n \t\t\t\t\t\tchain: chain.concat([parentId]),\n \t\t\t\t\t\tid: parentId\n \t\t\t\t\t});\n \t\t\t\t}\n \t\t\t}\n\n \t\t\treturn {\n \t\t\t\ttype: \"accepted\",\n \t\t\t\tmoduleId: updateModuleId,\n \t\t\t\toutdatedModules: outdatedModules,\n \t\t\t\toutdatedDependencies: outdatedDependencies\n \t\t\t};\n \t\t}\n\n \t\tfunction addAllToSet(a, b) {\n \t\t\tfor (var i = 0; i < b.length; i++) {\n \t\t\t\tvar item = b[i];\n \t\t\t\tif (a.indexOf(item) === -1) a.push(item);\n \t\t\t}\n \t\t}\n\n \t\t// at begin all updates modules are outdated\n \t\t// the \"outdated\" status can propagate to parents if they don't accept the children\n \t\tvar outdatedDependencies = {};\n \t\tvar outdatedModules = [];\n \t\tvar appliedUpdate = {};\n\n \t\tvar warnUnexpectedRequire = function warnUnexpectedRequire() {\n \t\t\tconsole.warn(\n \t\t\t\t\"[HMR] unexpected require(\" + result.moduleId + \") to disposed module\"\n \t\t\t);\n \t\t};\n\n \t\tfor (var id in hotUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(hotUpdate, id)) {\n \t\t\t\tmoduleId = toModuleId(id);\n \t\t\t\t/** @type {TODO} */\n \t\t\t\tvar result;\n \t\t\t\tif (hotUpdate[id]) {\n \t\t\t\t\tresult = getAffectedStuff(moduleId);\n \t\t\t\t} else {\n \t\t\t\t\tresult = {\n \t\t\t\t\t\ttype: \"disposed\",\n \t\t\t\t\t\tmoduleId: id\n \t\t\t\t\t};\n \t\t\t\t}\n \t\t\t\t/** @type {Error|false} */\n \t\t\t\tvar abortError = false;\n \t\t\t\tvar doApply = false;\n \t\t\t\tvar doDispose = false;\n \t\t\t\tvar chainInfo = \"\";\n \t\t\t\tif (result.chain) {\n \t\t\t\t\tchainInfo = \"\\nUpdate propagation: \" + result.chain.join(\" -> \");\n \t\t\t\t}\n \t\t\t\tswitch (result.type) {\n \t\t\t\t\tcase \"self-declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of self decline: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"declined\":\n \t\t\t\t\t\tif (options.onDeclined) options.onDeclined(result);\n \t\t\t\t\t\tif (!options.ignoreDeclined)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because of declined dependency: \" +\n \t\t\t\t\t\t\t\t\tresult.moduleId +\n \t\t\t\t\t\t\t\t\t\" in \" +\n \t\t\t\t\t\t\t\t\tresult.parentId +\n \t\t\t\t\t\t\t\t\tchainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"unaccepted\":\n \t\t\t\t\t\tif (options.onUnaccepted) options.onUnaccepted(result);\n \t\t\t\t\t\tif (!options.ignoreUnaccepted)\n \t\t\t\t\t\t\tabortError = new Error(\n \t\t\t\t\t\t\t\t\"Aborted because \" + moduleId + \" is not accepted\" + chainInfo\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"accepted\":\n \t\t\t\t\t\tif (options.onAccepted) options.onAccepted(result);\n \t\t\t\t\t\tdoApply = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tcase \"disposed\":\n \t\t\t\t\t\tif (options.onDisposed) options.onDisposed(result);\n \t\t\t\t\t\tdoDispose = true;\n \t\t\t\t\t\tbreak;\n \t\t\t\t\tdefault:\n \t\t\t\t\t\tthrow new Error(\"Unexception type \" + result.type);\n \t\t\t\t}\n \t\t\t\tif (abortError) {\n \t\t\t\t\thotSetStatus(\"abort\");\n \t\t\t\t\treturn Promise.reject(abortError);\n \t\t\t\t}\n \t\t\t\tif (doApply) {\n \t\t\t\t\tappliedUpdate[moduleId] = hotUpdate[moduleId];\n \t\t\t\t\taddAllToSet(outdatedModules, result.outdatedModules);\n \t\t\t\t\tfor (moduleId in result.outdatedDependencies) {\n \t\t\t\t\t\tif (\n \t\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(\n \t\t\t\t\t\t\t\tresult.outdatedDependencies,\n \t\t\t\t\t\t\t\tmoduleId\n \t\t\t\t\t\t\t)\n \t\t\t\t\t\t) {\n \t\t\t\t\t\t\tif (!outdatedDependencies[moduleId])\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId] = [];\n \t\t\t\t\t\t\taddAllToSet(\n \t\t\t\t\t\t\t\toutdatedDependencies[moduleId],\n \t\t\t\t\t\t\t\tresult.outdatedDependencies[moduleId]\n \t\t\t\t\t\t\t);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (doDispose) {\n \t\t\t\t\taddAllToSet(outdatedModules, [result.moduleId]);\n \t\t\t\t\tappliedUpdate[moduleId] = warnUnexpectedRequire;\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Store self accepted outdated modules to require them later by the module system\n \t\tvar outdatedSelfAcceptedModules = [];\n \t\tfor (i = 0; i < outdatedModules.length; i++) {\n \t\t\tmoduleId = outdatedModules[i];\n \t\t\tif (\n \t\t\t\tinstalledModules[moduleId] &&\n \t\t\t\tinstalledModules[moduleId].hot._selfAccepted &&\n \t\t\t\t// removed self-accepted modules should not be required\n \t\t\t\tappliedUpdate[moduleId] !== warnUnexpectedRequire\n \t\t\t) {\n \t\t\t\toutdatedSelfAcceptedModules.push({\n \t\t\t\t\tmodule: moduleId,\n \t\t\t\t\terrorHandler: installedModules[moduleId].hot._selfAccepted\n \t\t\t\t});\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"dispose\" phase\n \t\thotSetStatus(\"dispose\");\n \t\tObject.keys(hotAvailableFilesMap).forEach(function(chunkId) {\n \t\t\tif (hotAvailableFilesMap[chunkId] === false) {\n \t\t\t\thotDisposeChunk(chunkId);\n \t\t\t}\n \t\t});\n\n \t\tvar idx;\n \t\tvar queue = outdatedModules.slice();\n \t\twhile (queue.length > 0) {\n \t\t\tmoduleId = queue.pop();\n \t\t\tmodule = installedModules[moduleId];\n \t\t\tif (!module) continue;\n\n \t\t\tvar data = {};\n\n \t\t\t// Call dispose handlers\n \t\t\tvar disposeHandlers = module.hot._disposeHandlers;\n \t\t\tfor (j = 0; j < disposeHandlers.length; j++) {\n \t\t\t\tcb = disposeHandlers[j];\n \t\t\t\tcb(data);\n \t\t\t}\n \t\t\thotCurrentModuleData[moduleId] = data;\n\n \t\t\t// disable module (this disables requires from this module)\n \t\t\tmodule.hot.active = false;\n\n \t\t\t// remove module from cache\n \t\t\tdelete installedModules[moduleId];\n\n \t\t\t// when disposing there is no need to call dispose handler\n \t\t\tdelete outdatedDependencies[moduleId];\n\n \t\t\t// remove \"parents\" references from all children\n \t\t\tfor (j = 0; j < module.children.length; j++) {\n \t\t\t\tvar child = installedModules[module.children[j]];\n \t\t\t\tif (!child) continue;\n \t\t\t\tidx = child.parents.indexOf(moduleId);\n \t\t\t\tif (idx >= 0) {\n \t\t\t\t\tchild.parents.splice(idx, 1);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// remove outdated dependency from module children\n \t\tvar dependency;\n \t\tvar moduleOutdatedDependencies;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tfor (j = 0; j < moduleOutdatedDependencies.length; j++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[j];\n \t\t\t\t\t\tidx = module.children.indexOf(dependency);\n \t\t\t\t\t\tif (idx >= 0) module.children.splice(idx, 1);\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Now in \"apply\" phase\n \t\thotSetStatus(\"apply\");\n\n \t\thotCurrentHash = hotUpdateNewHash;\n\n \t\t// insert new code\n \t\tfor (moduleId in appliedUpdate) {\n \t\t\tif (Object.prototype.hasOwnProperty.call(appliedUpdate, moduleId)) {\n \t\t\t\tmodules[moduleId] = appliedUpdate[moduleId];\n \t\t\t}\n \t\t}\n\n \t\t// call accept handlers\n \t\tvar error = null;\n \t\tfor (moduleId in outdatedDependencies) {\n \t\t\tif (\n \t\t\t\tObject.prototype.hasOwnProperty.call(outdatedDependencies, moduleId)\n \t\t\t) {\n \t\t\t\tmodule = installedModules[moduleId];\n \t\t\t\tif (module) {\n \t\t\t\t\tmoduleOutdatedDependencies = outdatedDependencies[moduleId];\n \t\t\t\t\tvar callbacks = [];\n \t\t\t\t\tfor (i = 0; i < moduleOutdatedDependencies.length; i++) {\n \t\t\t\t\t\tdependency = moduleOutdatedDependencies[i];\n \t\t\t\t\t\tcb = module.hot._acceptedDependencies[dependency];\n \t\t\t\t\t\tif (cb) {\n \t\t\t\t\t\t\tif (callbacks.indexOf(cb) !== -1) continue;\n \t\t\t\t\t\t\tcallbacks.push(cb);\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t\tfor (i = 0; i < callbacks.length; i++) {\n \t\t\t\t\t\tcb = callbacks[i];\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tcb(moduleOutdatedDependencies);\n \t\t\t\t\t\t} catch (err) {\n \t\t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\t\ttype: \"accept-errored\",\n \t\t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\t\tdependencyId: moduleOutdatedDependencies[i],\n \t\t\t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t\t\t});\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t\t\t}\n \t\t\t\t\t\t}\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// Load self accepted modules\n \t\tfor (i = 0; i < outdatedSelfAcceptedModules.length; i++) {\n \t\t\tvar item = outdatedSelfAcceptedModules[i];\n \t\t\tmoduleId = item.module;\n \t\t\thotCurrentParents = [moduleId];\n \t\t\ttry {\n \t\t\t\t__webpack_require__(moduleId);\n \t\t\t} catch (err) {\n \t\t\t\tif (typeof item.errorHandler === \"function\") {\n \t\t\t\t\ttry {\n \t\t\t\t\t\titem.errorHandler(err);\n \t\t\t\t\t} catch (err2) {\n \t\t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\t\ttype: \"self-accept-error-handler-errored\",\n \t\t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\t\terror: err2,\n \t\t\t\t\t\t\t\toriginalError: err\n \t\t\t\t\t\t\t});\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\t\tif (!error) error = err2;\n \t\t\t\t\t\t}\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t} else {\n \t\t\t\t\tif (options.onErrored) {\n \t\t\t\t\t\toptions.onErrored({\n \t\t\t\t\t\t\ttype: \"self-accept-errored\",\n \t\t\t\t\t\t\tmoduleId: moduleId,\n \t\t\t\t\t\t\terror: err\n \t\t\t\t\t\t});\n \t\t\t\t\t}\n \t\t\t\t\tif (!options.ignoreErrored) {\n \t\t\t\t\t\tif (!error) error = err;\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t}\n \t\t}\n\n \t\t// handle errors in accept handlers and self accepted module load\n \t\tif (error) {\n \t\t\thotSetStatus(\"fail\");\n \t\t\treturn Promise.reject(error);\n \t\t}\n\n \t\thotSetStatus(\"idle\");\n \t\treturn new Promise(function(resolve) {\n \t\t\tresolve(outdatedModules);\n \t\t});\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {},\n \t\t\thot: hotCreateModule(moduleId),\n \t\t\tparents: (hotCurrentParentsTemp = hotCurrentParents, hotCurrentParents = [], hotCurrentParentsTemp),\n \t\t\tchildren: []\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, hotCreateRequire(moduleId));\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// __webpack_hash__\n \t__webpack_require__.h = function() { return hotCurrentHash; };\n\n\n \t// Load entry module and return exports\n \treturn hotCreateRequire(0)(__webpack_require__.s = 0);\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","import Delaunator from 'delaunator';\r\n// czmObject\r\n// 0.2 \r\nconst defaultOptions = {\r\n    /**\r\n     *  [, , , , , , ...]\r\n     * @type {array}\r\n     * @instance\r\n     * @default [0, 0, 0, 0, 0, 0, ...]\r\n     * @memberof Image\r\n     */\r\n    positions: [],\r\n    /**\r\n     * \r\n     * @type {string}\r\n     * @instance\r\n     * @default ''\r\n     * @memberof Image\r\n     */\r\n    imageUrl: '',\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @instance\r\n     * @default true\r\n     * @memberof Image\r\n     */\r\n    totalArea: 0,\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @instance\r\n     * @default 50\r\n     * @memberof Image\r\n     */\r\n    interpolationDistance: 50,\r\n    /**\r\n     * \r\n     * @type {boolean}\r\n     * @instance\r\n     * @default false\r\n     * @memberof Image\r\n     */\r\n    interpolation: false,\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @instance\r\n     * @default 10\r\n     * @memberof Image\r\n     */\r\n    textureSize: 10,\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @instance\r\n     * @default 1\r\n     * @memberof Image\r\n     */\r\n    offsetHeight: 1,\r\n    /**\r\n     * \r\n     * @type {boolean}\r\n     * @instance\r\n     * @default true\r\n     * @memberof Obj.CustomPrimitive\r\n     */\r\n    show: true,\r\n    /**\r\n     * \r\n     * @type {number}\r\n     * @instance\r\n     * @default 3\r\n     * @memberof Image\r\n     */\r\n    drillDepth: 3\r\n};\r\n\r\n// 1 XE.Core.XbsjCzmObj\r\nclass Image extends XE.Core.XbsjCzmObj {\r\n    constructor(earth, guid) {\r\n        super(earth, guid);\r\n\r\n        // 1. ImagecustomPrimitive\r\n        this._createCustomPrimitive(earth);\r\n        this._xbsjCutFillComputing = new Cesium.XbsjCutFillComputing();\r\n        earth.terrainEffect.depthTest = true;\r\n        // 2. positionscustomPrimitive\r\n        // disposer\r\n        // XE.MVVM.watch\r\n        // XE.MVVM.watchdisposer\r\n        const update = () => {\r\n            if (this.positions.length < 4) {\r\n                return;\r\n            }\r\n            // this._interpolationVector = new Cesium.Cartesian3(this.interpolationDistance, 0, 0);\r\n            const cartesians = [];\r\n            for (let i = 0; i < this.positions.length; ++i) {\r\n                cartesians.push(Cesium.Cartesian3.fromRadians(this.positions[i][0], this.positions[i][1], this.positions[i][2]));\r\n            }\r\n            if (cartesians[cartesians.length - 1].equals(cartesians[cartesians.length - 2])) {\r\n                cartesians.pop();\r\n            }\r\n\r\n            // \r\n            var normal = this._getApproximateNormal(cartesians);\r\n            // \r\n            var center = this._getCenter(cartesians);\r\n            // \r\n            var centerNormal = Cesium.Cartesian3.normalize(center, new Cesium.Cartesian3());\r\n            var cos = Cesium.Cartesian3.dot(centerNormal, normal);\r\n            if (cos < 0) { //90\r\n                normal = this._getCartesian3Inserve(normal);\r\n                cartesians.reverse();\r\n            }\r\n            var rotation, transform, transformInverse;\r\n            if (Math.abs(cos) < 0.999) {\r\n                rotation = this._getRotationMatrixByNormalAndCenter(normal, centerNormal); // \r\n                var centerInserve = this._getCartesian3Inserve(center);\r\n                var translation = Cesium.Matrix4.fromTranslation(centerInserve, new Cesium.Matrix4()); //\r\n                transformInverse = Cesium.Matrix4.multiply(rotation, translation, translation); //->\r\n                transform = Cesium.Matrix4.inverse(transformInverse, new Cesium.Matrix4()); //->\r\n            } else { //enu\r\n                transform = Cesium.Transforms.eastNorthUpToFixedFrame(center);\r\n                transformInverse = Cesium.Matrix4.inverseTransformation(transform, new Cesium.Matrix4());\r\n            }\r\n            var locationPositions = this._transformCartesians(cartesians, transformInverse); //\r\n            var projectLocationPositions = [];\r\n            var worldRadian = [];\r\n            var worldCartesians = [];\r\n            if (this.interpolation) {\r\n                // \r\n                var bounds = this._getBounds2D(locationPositions);\r\n                var turfpositions = this._getTurfPoints(locationPositions);\r\n                var interpolationInPolygon = this._interpolationInPolygon(turfpositions, bounds, this.interpolationDistance);\r\n                interpolationInPolygon = this._pickFromScene(interpolationInPolygon, transform, transformInverse, normal, this._earth.czm.viewer.scene, this.offsetHeight, this.drillDepth);\r\n                // \r\n                var interpolationAlongPolygon = this._interpolationAlongPolygon(locationPositions, this.interpolationDistance);\r\n                interpolationAlongPolygon = this._pickFromScene(interpolationAlongPolygon, transform, transformInverse, normal, this._earth.czm.viewer.scene, this.offsetHeight, this.drillDepth);\r\n\r\n                worldCartesians.push(...interpolationInPolygon.world_cartesian);\r\n                projectLocationPositions.push(...interpolationInPolygon.local);\r\n                worldRadian.push(...interpolationInPolygon.world);\r\n\r\n                worldCartesians.push(...interpolationAlongPolygon.world_cartesian);\r\n                projectLocationPositions.push(...interpolationAlongPolygon.local);\r\n                worldRadian.push(...interpolationAlongPolygon.world);\r\n\r\n                // \r\n                locationPositions.forEach(coord => {\r\n                    var polygon = this._pickFromScene([coord], transform, transformInverse, normal, this._earth.czm.viewer.scene, this.offsetHeight, this.drillDepth);\r\n                    if (polygon.local.length > 0) {\r\n                        projectLocationPositions.push(...polygon.local);\r\n                        worldRadian.push(...polygon.world);\r\n                        worldCartesians.push(...polygon.world_cartesian);\r\n                    } else {\r\n                        projectLocationPositions.push(coord);\r\n                        var worldPosition = this._transformCartesians([coord], transform);\r\n                        for (let i = 0; i < worldPosition.length; ++i) {\r\n                            worldCartesians.push(worldPosition[i]);\r\n                            var projectPoint = Cesium.Cartographic.fromCartesian(worldPosition[i]);\r\n                            worldRadian.push([projectPoint.longitude, projectPoint.latitude, projectPoint.height + this.offsetHeight]);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                projectLocationPositions = locationPositions;\r\n                worldCartesians = this._transformCartesians(locationPositions, transform);\r\n                for (let i = 0; i < worldCartesians.length; ++i) {\r\n                    var projectPoint = Cesium.Cartographic.fromCartesian(worldCartesians[i]);\r\n                    worldRadian.push([projectPoint.longitude, projectPoint.latitude, projectPoint.height + this.offsetHeight]);\r\n                }\r\n            }\r\n\r\n            var sts = this._getSTS(projectLocationPositions, this.textureSize);\r\n            var indices = this._getIndices(projectLocationPositions);\r\n\r\n\r\n            // var center_radian = Cesium.Cartographic.fromCartesian(center);\r\n            // center_radian = [center_radian.longitude, center_radian.latitude, center_radian.height];\r\n            // var positions = [];\r\n            // locationPositions.forEach(coord => {\r\n            //     positions.push(coord.x);\r\n            //     positions.push(coord.y);\r\n            //     positions.push(coord.z);\r\n\r\n            // });\r\n            // var hpr = this._getHeadingPitchRollFromRotation(center, transform);\r\n            // this._customPrimitive.position = center_radian;\r\n            // this._customPrimitive.positions = positions;\r\n            // if (!isNaN(hpr.heading)) {\r\n            //     this._customPrimitive.rotation[0] = hpr.heading;\r\n            //     this._customPrimitive.rotation[1] = hpr.pitch;\r\n            //     this._customPrimitive.rotation[2] = hpr.roll;\r\n            // }\r\n            const [localPositions, enucenter] = XE.Obj.CustomPrimitive.Geometry.getLocalPositions(worldRadian);\r\n            this._customPrimitive.position = enucenter;\r\n            this._customPrimitive.positions = localPositions;\r\n            this._customPrimitive.sts = sts;\r\n            this._customPrimitive.normals = undefined;\r\n            this._customPrimitive.indices = indices;\r\n            this.totalArea = this._getMeshArea(worldCartesians, indices);\r\n        }\r\n\r\n        update();\r\n        this.disposers.push(XE.MVVM.watch(() => ({\r\n            imageUrl: this.imageUrl,\r\n            positions: [...this.positions],\r\n            interpolation: this.interpolation,\r\n            interpolationDistance: this.interpolationDistance,\r\n            textureSize: this.textureSize,\r\n            offsetHeight: this.offsetHeight\r\n        }), update));\r\n\r\n        const update2 = () => {\r\n            this._customPrimitive.show = this.show;\r\n        };\r\n\r\n        update2();\r\n        this.disposers.push(XE.MVVM.watch(() => ({\r\n            show: this.show,\r\n        }), update2));\r\n\r\n        // 4. imageUrlcustomPrimitive\r\n        this.disposers.push(XE.MVVM.watch(() => this.imageUrl, () => {\r\n            const p = this._customPrimitive;\r\n            if (this.imageUrl && this.imageUrl != '') {\r\n                Cesium.Resource.createIfNeeded(this.imageUrl).fetchImage().then(function (image) {\r\n                    p.canvasWidth = image.naturalWidth;\r\n                    p.canvasHeight = image.naturalHeight;\r\n                    p.drawCanvas(ctx => {\r\n                        ctx.clearRect(0, 0, p.canvasWidth, p.canvasHeight);\r\n                        ctx.drawImage(image, 0, 0);\r\n                    });\r\n                });\r\n            } else {\r\n                p.canvasWidth = 1;\r\n                p.canvasHeight = 1;\r\n                p.drawCanvas(ctx => {\r\n                    ctx.clearRect(0, 0, 1, 1);\r\n                    ctx.fillStyle = 'rgba(0, 255, 0, 0.1)';\r\n                    ctx.fillRect(0, 0, 1, 1);\r\n                });\r\n            }\r\n        }));\r\n        this.disposers.push(XE.MVVM.track(this._customPrimitive, 'imageUrl', this, 'imageUrl'));\r\n\r\n        // \r\n        this._registerEditing();\r\n\r\n        this.disposers.push(XE.MVVM.bind(this, 'enabled', this, 'show'));\r\n\r\n        XE.Earth.Interaction.Picking.registerPickingParent(this._customPrimitive, this);\r\n    }\r\n    _getMeshArea (positions, indices) {\r\n        var area = 0;\r\n        for (var i = 0; i < indices.length; i += 3) {\r\n            area += this._getTriangleArea(positions[indices[i]], positions[indices[i + 1]], positions[indices[i + 2]]);\r\n        }\r\n        return area;\r\n    }\r\n    _getTriangleArea (p1, p2, p3) {\r\n        var length1 = Cesium.Cartesian3.distance(p1, p2);\r\n        var length2 = Cesium.Cartesian3.distance(p2, p3);\r\n        var length3 = Cesium.Cartesian3.distance(p3, p1);\r\n\r\n        var p = (length1 + length2 + length3) / 2; //;\r\n        var area = Math.sqrt(p * (p - length1) * (p - length2) * (p - length3));\r\n        return area;\r\n    }\r\n    _getHeadingPitchRollFromRotation (center, transform) {\r\n\r\n        // enu\r\n        var enu = Cesium.Transforms.eastNorthUpToFixedFrame(center);\r\n        var enuInverse = Cesium.Matrix4.inverse(enu, enu);\r\n        // \r\n        var m3 = Cesium.Matrix4.multiply(enuInverse, transform, enu);\r\n        // \r\n        var rotation = Cesium.Matrix4.getRotation(m3, new Cesium.Matrix3());\r\n        // \r\n        var q = Cesium.Quaternion.fromRotationMatrix(rotation);\r\n        // ()\r\n        var hpr = Cesium.HeadingPitchRoll.fromQuaternion(q);\r\n        // \r\n        return hpr;\r\n    }\r\n    _getIndices (positions) {\r\n        var indices = [];\r\n        positions.forEach(coord => {\r\n            indices.push([coord.x, coord.y])\r\n        });\r\n        var triangles = Delaunator.from(indices).triangles;\r\n        return triangles.reverse();\r\n    }\r\n    _getSTS (positions, scale) {\r\n        var sts = [];\r\n        positions.forEach(coord => {\r\n            var x = coord.x / scale;\r\n            var y = coord.y / scale;\r\n            sts.push(x);\r\n            sts.push(y);\r\n        });\r\n        return sts;\r\n    }\r\n    _getBounds2D (positions) {\r\n        var minx = positions[0].x;\r\n        var miny = positions[0].y;\r\n        var maxx = positions[0].x;\r\n        var maxy = positions[0].y;\r\n        positions.forEach(coord => {\r\n            minx = Math.min(minx, coord.x);\r\n            miny = Math.min(miny, coord.y);\r\n            maxx = Math.max(maxx, coord.x);\r\n            maxy = Math.max(maxy, coord.y);\r\n        });\r\n        return { minx: minx, miny: miny, maxx: maxx, maxy: maxy };\r\n    }\r\n    _transformCartesians (cartesians, transform) {\r\n        var localPositions = [];\r\n        for (let i = 0; i < cartesians.length; ++i) {\r\n            var cartesian = cartesians[i];\r\n            var projectPoint = Cesium.Matrix4.multiplyByPoint(transform, cartesian, new Cesium.Cartesian3());\r\n            localPositions.push(projectPoint);\r\n        }\r\n        return localPositions;\r\n    }\r\n    _pickFromScene (cartesians, transform, transformInverse, normal, scene, offsetHeight, drillDepth) {\r\n        var cartesiansWithHeight = [];\r\n        cartesians.forEach(coord => {\r\n            var c = coord.clone();\r\n            c.z = 10000;\r\n            cartesiansWithHeight.push(c);\r\n        });\r\n        var positions_world = this._transformCartesians(cartesiansWithHeight, transform);\r\n        var normalInverse = new Cesium.Cartesian3(-1 * normal.x, -1 * normal.y, -1 * normal.z);\r\n        var positions_world_ray = [];\r\n        var positions_local = [];\r\n        var world_cartesian = [];\r\n        for (let i = 0; i < positions_world.length; ++i) {\r\n            var cartesian = positions_world[i];\r\n            var ray = new Cesium.Ray(cartesian, normalInverse);\r\n            var projectPoints = [];\r\n            try {\r\n                projectPoints = scene.drillPickFromRay(ray, drillDepth);\r\n            } catch { }\r\n            // var projectPoint = scene.globe.pick(ray, scene, new Cesium.Cartesian3());\r\n\r\n            if (projectPoints.length === 0) {\r\n                ray = new Cesium.Ray(cartesian, normal);\r\n                try {\r\n                    projectPoints = scene.drillPickFromRay(ray, drillDepth);\r\n                } catch { }\r\n                // projectPoint = scene.globe.pick(ray, scene, cartesian);\r\n            }\r\n            if (projectPoints.length === 0) {\r\n                continue;\r\n            }\r\n            var projectPoint;\r\n            for (var p = 0; p < projectPoints.length; p++) {\r\n                var obj = projectPoints[p];\r\n\r\n                if ((!obj.object || obj.object.content) && obj.position) {\r\n                    projectPoint = obj.position;\r\n                    break;\r\n                }\r\n            }\r\n            if (!projectPoint) {\r\n                continue;\r\n            }\r\n            // projectPoint = projectPoint.position;\r\n            // \r\n            var localPositions = this._transformCartesians([projectPoint], transformInverse);\r\n            localPositions.forEach(p => {\r\n                p.z += offsetHeight;\r\n            })\r\n            projectPoint = this._transformCartesians(localPositions, transform)[0];\r\n            world_cartesian.push(projectPoint);\r\n            projectPoint = Cesium.Cartographic.fromCartesian(projectPoint);\r\n            positions_world_ray.push([projectPoint.longitude, projectPoint.latitude, projectPoint.height]);\r\n            positions_local.push(cartesians[i]);\r\n        }\r\n        return { local: positions_local, world: positions_world_ray, world_cartesian: world_cartesian };\r\n    }\r\n    _getRotationMatrixByNormalAndCenter (normal, center) {\r\n        var normalX = Cesium.Cartesian3.cross(normal, center, new Cesium.Cartesian3());\r\n        normalX = Cesium.Cartesian3.normalize(normalX, normalX);\r\n        var normalY = Cesium.Cartesian3.cross(normal, normalX, new Cesium.Cartesian3());\r\n        normalY = Cesium.Cartesian3.normalize(normalY, normalY);\r\n        var normalZ = normal;\r\n        var transform = new Cesium.Matrix4(normalX.x, normalX.y, normalX.z, 0,\r\n            normalY.x, normalY.y, normalY.z, 0,\r\n            normalZ.x, normalZ.y, normalZ.z, 0,\r\n            0, 0, 0, 1);\r\n        return transform;\r\n    }\r\n    _getApproximateNormal (positions) {\r\n        var va = new Cesium.Cartesian3(0, 0, 0);\r\n        var vb = new Cesium.Cartesian3(0, 0, 0);\r\n        var normal = new Cesium.Cartesian3(0, 0, 0);\r\n        var sum_normal = new Cesium.Cartesian3(0, 0, 0);\r\n        var position_count = positions.length;\r\n        for (let i = 0; i < position_count; ++i) {\r\n            var origin = positions[i];\r\n            var a;\r\n            if (i == 0) {\r\n                a = positions[positions.length - 1];\r\n            } else {\r\n                a = positions[i - 1];\r\n            }\r\n            var b;\r\n            if (i == positions.length - 1) {\r\n                b = positions[0];\r\n            } else {\r\n                b = positions[i + 1];\r\n            }\r\n            // \r\n            va = Cesium.Cartesian3.subtract(origin, a, va);\r\n            vb = Cesium.Cartesian3.subtract(origin, b, vb);\r\n\r\n            // \r\n            normal = Cesium.Cartesian3.cross(va, vb, normal);\r\n            normal = Cesium.Cartesian3.normalize(normal, normal);\r\n\r\n            sum_normal = Cesium.Cartesian3.add(sum_normal, normal, sum_normal);\r\n        }\r\n        normal.x = sum_normal.x / position_count;\r\n        normal.y = sum_normal.y / position_count;\r\n        normal.z = sum_normal.z / position_count;\r\n        return normal\r\n    }\r\n\r\n    _getCenter (positions) {\r\n        var center = new Cesium.Cartesian3(0, 0, 0);\r\n        var position_count = positions.length;\r\n        for (let i = 0; i < position_count; ++i) {\r\n            var origin = positions[i];\r\n            center = Cesium.Cartesian3.add(center, origin, center);\r\n        }\r\n        center.x = center.x / position_count;\r\n        center.y = center.y / position_count;\r\n        center.z = center.z / position_count;\r\n        return center;\r\n    }\r\n\r\n    _getCartesian3Inserve (cartesian3) {\r\n        return new Cesium.Cartesian3(-1 * cartesian3.x, -1 * cartesian3.y, -1 * cartesian3.z);\r\n    }\r\n    _getTurfPoints (positions) {\r\n        var turfpositions = [];\r\n        positions.forEach(coord => {\r\n            turfpositions.push([coord.x, coord.y]);\r\n        });\r\n        turfpositions.push(turfpositions[0]);\r\n        return turfpositions;\r\n    }\r\n    _interpolationInPolygon (polygon, bounds, distance) {\r\n        var positions = [];\r\n        for (var startx = bounds.minx; startx < bounds.maxx; startx += distance) {\r\n            for (var starty = bounds.miny; starty < bounds.maxy; starty += distance) {\r\n                if (!this._pointInPolygon([startx, starty], polygon)) {\r\n                    continue;\r\n                }\r\n                positions.push(new Cesium.Cartesian3(startx, starty, 0));\r\n            }\r\n        }\r\n        return positions;\r\n    }\r\n    _interpolationAlongPolygon (positions, interpolationDistance) {\r\n        var result = [];\r\n        for (let i = 0; i < positions.length; ++i) {\r\n            var a = positions[i];\r\n            var b;\r\n            if (i == positions.length - 1) {\r\n                b = positions[0];\r\n            } else {\r\n                b = positions[i + 1];\r\n            }\r\n            var points = this._interpolationAlongLine(a, b, interpolationDistance);\r\n            result.push(...points);\r\n        }\r\n        return result;\r\n    }\r\n    _interpolationAlongLine (p1, p2, interpolationDistance) {\r\n        var result = [];\r\n        var totalLength = Cesium.Cartesian3.distance(p1, p2);\r\n        var v = Cesium.Cartesian3.subtract(p2, p1, new Cesium.Cartesian3());\r\n        v = Cesium.Cartesian3.normalize(v, v);\r\n        var length = interpolationDistance;\r\n        var count = 1;\r\n        while (length < totalLength) {\r\n            var project = new Cesium.Cartesian3(v.x * length, v.y * length, v.z * length);\r\n            var interpolation = Cesium.Cartesian3.add(p1, project, new Cesium.Cartesian3());\r\n            result.push(interpolation);\r\n            length += interpolationDistance;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    _pointInPolygon (point, polygon) {\r\n        var pt = turf.point(point);\r\n        if (!turf.booleanEqual(turf.point(polygon[0]), turf.point(polygon[polygon.length - 1]))) {\r\n            return false;\r\n        }\r\n        var turfPolygon = [];\r\n        turfPolygon.push(polygon);\r\n        var poly = turf.polygon(turfPolygon);\r\n        return turf.booleanPointInPolygon(pt, poly);\r\n    }\r\n    _createCustomPrimitive (earth) {\r\n        const renderState = XE.Obj.CustomPrimitive.getRenderState(false, false);\r\n\r\n        const fragmentShaderSource = `\r\n\r\n\r\n        varying vec3 v_positionEC;\r\n        varying vec3 v_normalEC;\r\n        varying vec2 v_st;\r\n        varying vec4 v_color;\r\n        uniform sampler2D u_image;\r\n        uniform vec4 u_color;\r\n        void main()\r\n        {\r\n            vec3 positionToEyeEC = -v_positionEC;\r\n            vec3 normalEC = normalize(v_normalEC);\r\n            normalEC = faceforward(normalEC, vec3(0.0, 0.0, 1.0), -normalEC);\r\n            vec4 imageColor = texture2D(u_image, fract(v_st));\r\n\r\n            vec3 diffuse = imageColor.rgb;\r\n            float alpha = imageColor.a;\r\n\r\n            diffuse *= v_color.rgb;\r\n            alpha *= v_color.a;\r\n\r\n            diffuse *= u_color.rgb;\r\n            alpha *= u_color.a;\r\n\r\n            gl_FragColor = vec4(diffuse, alpha);\r\n        }\r\n        `;\r\n\r\n        const config = {\r\n            // color: [1, 1, 1, 1],\r\n            // customParams: [1.0, 1.0, 1.0, 1.0],\r\n            renderState,\r\n            // primitiveType: WebGL2RenderingContext.LINES,\r\n            fragmentShaderSource,\r\n            // pass: Cesium.Pass.TRANSLUCENT,\r\n            translucent: false,\r\n        };\r\n\r\n        this._customPrimitive = new XE.Obj.CustomPrimitive(earth);\r\n        this._customPrimitive.xbsjFromJSON(config);\r\n        var positionsline = [];\r\n        positionsline.push(new Cesium.Cartesian3(7000000, 0, 0));\r\n        positionsline.push(new Cesium.Cartesian3(6378130, 0, 0));\r\n\r\n        this._line = this._earth.czm.viewer.entities.add({\r\n            polyline: {\r\n                positions: positionsline,\r\n                width: 5,\r\n                material: Cesium.Color.RED,\r\n                clampToGround: false\r\n            }\r\n        })\r\n\r\n        // disposers\r\n        this.disposers.push(() => {\r\n            this._customPrimitive = this._customPrimitive && this._customPrimitive.destroy();\r\n        });\r\n    }\r\n\r\n    flyTo () {\r\n        this._customPrimitive.flyTo();\r\n    }\r\n\r\n    _registerEditing () {\r\n        // 5 \r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPolylineCreating(this._earth, this, {\r\n            polylineCreatingProperty: 'creating',\r\n        }));\r\n\r\n        this.disposers.push(XE.Earth.Interaction.InteractionProperty.registerPolylineEditing(this._earth, this, {\r\n            polylineEditingProperty: 'editing',\r\n        }));\r\n    }\r\n}\r\n\r\n// 2 \r\nImage.defaultOptions = defaultOptions;\r\n\r\nXE.Core.XbsjCzmObj.registerType(Image, 'CustomPrimitiveExt_Image');\r\n\r\nexport default Image;\r\n","import Image from \"./Image\";\r\n\r\nXE.Obj.CustomPrimitiveExt = XE.Obj.CustomPrimitiveExt || {};\r\n\r\nXE.Obj.CustomPrimitiveExt.Image = Image;"],"sourceRoot":""}